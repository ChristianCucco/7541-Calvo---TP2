/*
 *
 */
#include "listaTemplate.h"
#include <string>
#include <iostream>
#include <cstddef>
using namespace std;
#include "redTelefonica.h"
#include "celulares.h"
#include "nodoTemplate.h"
//CREAR 1 ANTENA Y 1 CELULAR POR CADA DIRECTORIO EXISTENTE
//


void menuSistemaDeTelefonia()
{
        cout<<"A - "<<endl;
        cout<<"B - Detalle de llamadas entre el Celular X al Celular Y Listar todos los mensajes filtrado por horario"<<endl;
        cout<<"C - Obtener Celular que más habló de todo el Sistema y de cada Antena"<<endl;
        cout<<"D - Obtener Celular que más llamó de todo el Sistema y de cada Antena"<<endl;
        cout<<"E - Celular que más le dio ocupado sus intentos de realizar una llamada de todo el Sistema y de cada Antena"<<endl;
        cout<<"F - Obtener Celular al que más llamaron de todo el Sistema y de cada Antena"<<endl;
        cout<<"G - Obtener celular al que más le hablaron de todo el Sistema y de cada Antena"<<endl;
        cout<<"H - Obtener celular que más dio ocupado de todo el Sistema y de cada Antena"<<endl;
        cout<<"I - Detalle de llamadas emitidas por el Celular X"<<endl;
        cout<<"J - Detalle de llamadas recibidas por el Celular X"<<endl;
        cout<<"K - Obtener cantidad máxima utilizada concurrentemente de Celulares por Antena"<<endl;
        cout<<"L - "<<endl;
        cout<<"M - Llamadas segun antenas anuladas por falta de capacidad "<<endl;
        cout<<"N - Detalle de antena"<<endl;
        cout<<"O - Detalle de celular"<<endl;
        cout<<"P - Procesar archivos)"<<endl;
        cout<<"X - Salir del programa"<<endl;
}


void funcionamientoSistemaDeTelefonia()
{   redTelefonica redSistema;
    char opcion;
    do {
        menuSistemaDeTelefonia();
        cin>>opcion;
        opcion = toupper(opcion);
        switch (opcion)
        {
            case'A':{;break;}
            case'B':{;break;}
            case'C':{;break;}
            case'D':{;break;}
            case'E':{;break;}
            case'F':{;break;}
            case'G':{;break;}
            case'H':{;break;}
            case'I':{;break;}
            case'J':{;break;}
            case'K':{;break;}
            case'L':{;break;}
            case'M':{;break;}
            case'N':{cout<<"ingrese id de la antena"<<endl;int antena;cin>>antena;redSistema.detalleAntena(antena);break;}
            case'O':{cout<<"ingrese el numero de celular"<<endl;int celular;cin>>celular;redSistema.detalleCelulares(celular);break;}
            case'p':{;break;}

            default : opcion= 'X';
        }
    }while(opcion != 'X');
}
void menuCelular()
{
    cout<<"A - Mostrar mensajes nuevos"<<endl;
    cout<<"B - Mostrar historial de mensajes emitidos"<<endl;
    cout<<"C - Mostrar historial de mensajes recibidos"<<endl;
    cout<<"D - Emitir mensaje"<<endl;
    cout<<"E - Cambiar Celular"<<endl;
    cout<<"X - Salir"<<endl;
}

void funcionamientoDeCelular(int numero)
{
redTelefonica red;
char opcion;
    do {
       celular*celularActual= red.buscarCelularPorNumero(numero);
        menuCelular();

        cin>>opcion;
        opcion = toupper(opcion);
        switch (opcion)
        {
            case'A': {cout<<"ingresar minuto del dia(0-1439)"<<endl;unsigned int minuto;
                     cin>>minuto;celularActual->verMensajesNuevos(minuto);break;}
            case'B':{(*celularActual).verHistorialMensajesEnviados();break;}
            case'C':{(*celularActual).verHistorialMensajesRecibidos();break;}
            case'D':{unsigned int numeroDestinatario;std::string texto="";unsigned int hora;
                    cout<<"ingresar el numero del reseptor del mensaje"<<endl;cin>>numeroDestinatario;
                    cout<<"ingresa mensaje de texto"<<endl;getline(cin,texto);
                    cout<<"ingresar minuto (debe encontrarse entre 0-1439)"<<endl;cin>>hora;
                    red.enviarMensaje(numeroDestinatario,texto,hora);break;}
            case'E':{cout<<"ingrese el nuevo numero"<<endl;unsigned int numero;cin>>numero;
            celularActual= red.buscarCelularPorNumero(numero);}

            default: opcion = 'X';
        };
    }while(opcion != 'X');

}

void elegirFuncionamiento()
{
    char opcion;
    int numero;
    do {
        cout<<"A - funcionamiento de sistema  de  telefonia"<<endl;
        cout<<"B - funcionamiento de celular"<<endl;
        cout<<"X - para salir del programa"<<endl;
        cin>>opcion;
        opcion = toupper(opcion);
        switch (opcion)
        {
            case 'A': funcionamientoSistemaDeTelefonia();break;
            case 'B': cout<<"ingresar numero"<<endl;cin>>numero;funcionamientoDeCelular(numero);break;
            default : opcion= 'X';
        }
    }while(opcion != 'X');
};

int main(){

elegirFuncionamiento();
cout<<"PROGRAMA FINALIZADO."<<endl;

	return 0;
